<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/maps-icons.html">
<link rel="import" href="../iron-icons/social-icons.html">

<dom-module id="youtube-displayer">
  <link rel="import" type="css" href="display.css">
  <template>
  <div class="container">
    <iframe id="player" class="item" src$="https://www.youtube.com/embed/{{videoid}}?start={{initialtime}}" frameborder="0" allowfullscreen>
    </iframe>
  </div>
  <script>
    var myConfObj = {
      iframeMouseOver : false
    }
    window.addEventListener('blur',function(){
      if(myConfObj.iframeMouseOver){
        document.getElementById('youtube-displayer1').changePlay();
      }
    });

    document.getElementById('player').addEventListener('mouseover',function(){
       myConfObj.iframeMouseOver = true;
    });
    document.getElementById('player').addEventListener('mouseout',function(){
        myConfObj.iframeMouseOver = false;
    });
  </script>
  </template>
    <script>
      var numberMax = 0;
        Polymer({
            is: 'youtube-displayer',
            properties: {
              playing: {
                type: String,
                value: '{{playing}}',
                notify: true,
                observer: 'changePlay'             
              },
              videoid: {
                type: String,
                value: '{{videoid}}'
              },
              initialtime: {
                type: String,
                value: '{{initialtime}}'
              }
            },
            changePlay: function() {
              if(this.playing==undefined){
                this.playing="true";
              }
              if (! this.updatingName) {
                this.updatingName = true;
                console.log(this.playing);
              if(this.playing=="false"){
                this.playing = "true";  
              } else{
                this.playing = "false";  
              }            
                this.updatingName = false;
              }

            }
        });
    </script>
</dom-module>
